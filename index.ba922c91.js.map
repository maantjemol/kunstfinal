{"mappings":"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","sources":["node_modules/jsonbox-client/dist/index.js","public/script/main.js"],"sourcesContent":["const fillRandomValues=window.crypto.getRandomValues.bind(crypto),createError=(e,t={})=>Object.assign(new Error,{...t,message:e});export const combineFilters=(...e)=>e.join(\",\");export const generateApiKey=()=>{const e=[...Array(256).keys()].map(e=>e.toString(16).padStart(2,\"0\")),t=fillRandomValues(new Uint8Array(16));return t[6]=15&t[6]|64,t[8]=63&t[8]|128,[...t.entries()].map(([t,s])=>[4,6,8,10].includes(t)?`-${e[s]}`:e[s]).join(\"\")};const handleUnexpectedResponse=async e=>{let t;const s=e.clone();try{({message:t}=await e.json())}catch{t=`Response not OK (${e.status})`}throw createError(t,{name:\"FetchError\",response:s})},isValidId=(e,t)=>{const s=/^[0-9a-z_]+$/iu,i=/^[0-9a-f]{24}$/iu,n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu;switch(e){case\"api-key\":return n.test(t);case\"box\":{const e=20,i=64;return t.length>=e&&t.length<=i&&s.test(t)}case\"collection\":{const e=1,i=20;return t.length>=e&&t.length>=i&&s.test(t)}case\"record\":return i.test(t);default:throw new TypeError('Invalid parameter \"type\": it must be one of \"api-key\" | \"box\" | \"collection\" | \"record\"')}},isValidResponse=e=>e.ok;export const valueOf=e=>({endsWith:t=>`${e}:*${t}`,includes:t=>`${e}:*${t}*`,is:t=>`${e}:${\"number\"==typeof t?\"=\":\"\"}${t}`,isGreaterThan:t=>`${e}:>${t}`,isGreaterThanOrEqualTo:t=>`${e}:>=${t}`,isLessThan:t=>`${e}:<${t}`,isLessThanOrEqualTo:t=>`${e}:<=${t}`,startsWith:t=>`${e}:${t}*`});export class Jsonbox{constructor(e,{apiKey:t,origin:s=\"https://jsonbox.io\"}={}){if(this.getUrl=({collection:e,filter:t,id:s,limit:i,skip:n,sort:a}={})=>{if(\"string\"==typeof s&&\"string\"==typeof e)throw new TypeError('Cannot use both properties \"id\" and \"collection\"');const o=new URL(this.origin);if(o.pathname=`/${this.id}`,\"string\"==typeof s){if(!isValidId(\"record\",s))throw new TypeError(\"Invalid record ID\");o.pathname+=`/${s}`}else if(\"string\"==typeof e){if(!isValidId(\"collection\",e))throw new TypeError('Invalid collection name: A collection name must consist of at least 1 and not more than 20 characters including alphanumeric and \"_\"');o.pathname+=`/${e}`}const r={limit:i,q:t,skip:n,sort:a};return o.search=[...Object.entries(r)].filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join(\"&\"),o.href},this.create=async(e,t)=>{const s={body:JSON.stringify(e),headers:{\"Content-Type\":\"application/json\"},method:\"POST\"};void 0!==this.apiKey&&(s.headers[\"x-api-key\"]=this.apiKey);const i=await fetch(this.getUrl({collection:t}),s);return isValidResponse(i)?i.json():handleUnexpectedResponse(i)},this.delete=async e=>{const t={method:\"DELETE\"};if(void 0!==this.apiKey&&(t.headers={\"x-api-key\":this.apiKey}),Array.isArray(e)){const s=e,i=s.map(async e=>{const s=await fetch(this.getUrl({id:e}),t);return isValidResponse(s)?s.json():handleUnexpectedResponse(s)});return(await Promise.allSettled(i)).map(({status:e},t)=>({id:s[t],success:\"fulfilled\"===e}))}const s={};\"string\"==typeof e?s.id=e:\"object\"==typeof e&&(s.filter=e.filter);const i=await fetch(this.getUrl(s),t);return isValidResponse(i)?i.json():handleUnexpectedResponse(i)},this.read=async e=>{const t={method:\"GET\"};let s;void 0!==this.apiKey&&(t.headers={\"x-api-key\":this.apiKey}),\"string\"==typeof e?s={id:e}:\"object\"==typeof e&&(s=e);const i=await fetch(this.getUrl(s),t);return isValidResponse(i)?i.json():handleUnexpectedResponse(i)},this.remove=this.delete,this.meta=async()=>{const e={method:\"GET\"};void 0!==this.apiKey&&(e.headers={\"x-api-key\":this.apiKey});const t=await fetch(`${this.origin}/_meta/${this.id}`,e);return isValidResponse(t)?t.json():handleUnexpectedResponse(t)},this.update=async(e,t)=>{const s={body:JSON.stringify(t),headers:{\"Content-Type\":\"application/json\"},method:\"PUT\"};void 0!==this.apiKey&&(s.headers[\"x-api-key\"]=this.apiKey);const i=await fetch(this.getUrl({id:e}),s);return isValidResponse(i)?i.json():handleUnexpectedResponse(i)},!isValidId(\"box\",e))throw new TypeError('Invalid parmater \"id\": Box ID must consist of at least 20 and not more than 64 characters including alphanumeric and \"_\"');if(\"string\"==typeof t&&!isValidId(\"api-key\",t))throw new TypeError('Invalid parameter \"apiKey\": API key must be a valid UUID');this.apiKey=t,this.id=e,this.origin=s}}","// const JSONDB = \"https://api.jsonstorage.net/v1/json/6a7cb59b-9324-4b7d-9468-d82067bfac53/9f32aa2f-5d27-4373-9f76-0f3637006d13?apiKey=b8c09898-174a-4b5b-b1be-4bd3cc1d7d1e\"\r\nconst JSONDB = \"\"\r\n// [{\"compliment\":\"nice\", \"time\":901324032414132}]\r\nimport {\r\n    Jsonbox,\r\n    combineFilters,\r\n    generateApiKey,\r\n    valueOf,\r\n} from 'jsonbox-client';\r\n\r\nconst boxOptions = {\r\n    // apiKey: '', // only used with protected boxes\r\n    origin: 'http://server.maantjemol.com:3123', // this is the default, but you could also connect to a different jsonbox server\r\n};\r\n\r\nconst boxId = \"box_2eb7b42fe95dbf8a1202\"\r\n\r\nconst jsonbox = new Jsonbox(boxId, boxOptions);\r\n\r\nconst {create, meta, read, remove, update} = jsonbox;\r\n\r\nfunction test(){\r\n    console.log(\"uwu\");\r\n}\r\n\r\nasync function getCompliments(){\r\n    let response = await read();\r\n    return response\r\n}\r\n\r\nasync function addCompliment(compliment){\r\n    let newCompliment = { compliment: compliment}\r\n    response = await create(newCompliment) \r\n    return response\r\n}\r\n\r\nasync function clearCompliments(url){\r\n    const requestOptions = {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify([])\r\n    };\r\n\r\n    let response = fetch(url, requestOptions)\r\n    return response\r\n}\r\n\r\n\r\nasync function main(){\r\n    // await clearCompliments(JSONDB)\r\n    console.log(await addCompliment(\"UwU wauw dankje wel\"));\r\n    console.log(await getCompliments())\r\n}\r\n\r\n\r\nasync function submitComp(){\r\n    let compliment = document.getElementById('compInput').value\r\n    if(filter(compliment) || compliment == \"\"){\r\n        alert(\"bad words!\");\r\n        return false\r\n    }\r\n    sendAnimation()\r\n    // document.getElementById('give-compliment').style.display = \"none\"\r\n    // document.getElementById('get-compliment').style.display = \"flex\"\r\n\r\n    let complimentsList = await getCompliments(JSONDB)\r\n    await addCompliment(compliment)\r\n\r\n    \r\n    let personalCompliment = complimentsList[0]\r\n    \r\n    // console.log(personalCompliment.compliment);\r\n\r\n    document.getElementById(\"compliment\").innerHTML = personalCompliment.compliment\r\n}\r\n\r\n\r\n\r\nwindow.submitComp = submitComp\r\n\r\n// test()\r\n// main()"],"names":["window","crypto","getRandomValues","bind","$8bd6ca09b6837eae$var$handleUnexpectedResponse","async","e","t","s","clone","message","json","status","Object","assign","Error","$8bd6ca09b6837eae$var$createError","name","response","$8bd6ca09b6837eae$var$isValidId","i","n","test","length","TypeError","$8bd6ca09b6837eae$var$isValidResponse","ok","$3fc40f1b95d7c86f$var$jsonbox","constructor","e2","apiKey","t2","origin","s1","this","getUrl","collection","e3","filter","t3","id","limit","skip","sort","a","o","URL","pathname","r","q","search","entries","map","encodeURIComponent","join","href","create","body","JSON","stringify","headers","method","fetch","delete","e4","t4","Array","isArray","s2","Promise","allSettled","success","s3","read","remove","meta","update","$3fc40f1b95d7c86f$var$create","$3fc40f1b95d7c86f$var$meta","$3fc40f1b95d7c86f$var$read","$3fc40f1b95d7c86f$var$remove","$3fc40f1b95d7c86f$var$update","$3fc40f1b95d7c86f$var$getCompliments","$3fc40f1b95d7c86f$var$addCompliment","compliment","newCompliment","submitComp","document","getElementById","value","alert","sendAnimation","complimentsList","personalCompliment","innerHTML"],"version":3,"file":"index.ba922c91.js.map"}